<?xml version="1.0" ?>
<testcases generated_at="2026-01-08T11:07:30.957876" count="3">
  <testcase id="TC001" name="用户登录功能测试">
    <preconditions>
      <precondition index="1" name="用户已注册账号">
        <component type="api" name="接口调用 - 检查用户存在">
          <params>
            <param name="method">GET</param>
            <param name="url">/api/users/check</param>
            <param name="expected">True</param>
          </params>
        </component>
      </precondition>
    </preconditions>
    <steps>
      <step index="1" name="打开登录页面">
        <component type="api" name="接口调用 - 获取登录页">
          <params>
            <param name="method">GET</param>
            <param name="url">/login</param>
          </params>
        </component>
      </step>
      <step index="2" name="输入用户名和密码">
        <component type="input" name="输入用户名">
          <params>
            <param name="selector">#username</param>
            <param name="value">testuser</param>
          </params>
        </component>
        <component type="input" name="输入密码">
          <params>
            <param name="selector">#password</param>
            <param name="value">password123</param>
          </params>
        </component>
      </step>
      <step index="3" name="点击登录按钮">
        <component type="button" name="点击登录">
          <params>
            <param name="selector">#login-btn</param>
            <param name="action">click</param>
          </params>
        </component>
      </step>
    </steps>
    <expectedResults>
      <expectedResult index="1" name="成功跳转到用户仪表板页面">
        <component type="assert" name="断言 - URL正确">
          <params>
            <param name="type">equals</param>
            <param name="expected">/dashboard</param>
          </params>
        </component>
        <component type="assert" name="断言 - 显示用户信息">
          <params>
            <param name="type">exists</param>
            <param name="expected">.user-info</param>
          </params>
        </component>
      </expectedResult>
    </expectedResults>
  </testcase>
  <testcase id="TC002" name="用户登录失败测试">
    <preconditions>
      <precondition index="1" name="用户账号存在但密码错误">
        <component type="api" name="接口调用 - 验证用户存在">
          <params>
            <param name="method">GET</param>
            <param name="url">/api/users/testuser</param>
            <param name="expected">True</param>
          </params>
        </component>
      </precondition>
    </preconditions>
    <steps>
      <step index="1" name="打开登录页面">
        <component type="api" name="接口调用 - 获取登录页">
          <params>
            <param name="method">GET</param>
            <param name="url">/login</param>
          </params>
        </component>
      </step>
      <step index="2" name="输入错误密码">
        <component type="input" name="输入用户名">
          <params>
            <param name="selector">#username</param>
            <param name="value">testuser</param>
          </params>
        </component>
        <component type="input" name="输入错误密码">
          <params>
            <param name="selector">#password</param>
            <param name="value">wrongpassword</param>
          </params>
        </component>
      </step>
      <step index="3" name="点击登录按钮">
        <component type="button" name="点击登录">
          <params>
            <param name="selector">#login-btn</param>
            <param name="action">click</param>
          </params>
        </component>
      </step>
    </steps>
    <expectedResults>
      <expectedResult index="1" name="显示密码错误提示">
        <component type="assert" name="断言 - 错误信息显示">
          <params>
            <param name="type">contains</param>
            <param name="expected">密码错误</param>
          </params>
        </component>
        <component type="assert" name="断言 - 仍在登录页面">
          <params>
            <param name="type">equals</param>
            <param name="expected">/login</param>
          </params>
        </component>
      </expectedResult>
    </expectedResults>
  </testcase>
  <testcase id="TC003" name="搜索功能测试">
    <preconditions>
      <precondition index="1" name="用户已登录系统">
        <component type="api" name="接口调用 - 验证登录状态">
          <params>
            <param name="method">GET</param>
            <param name="url">/api/auth/status</param>
            <param name="expected">authenticated</param>
          </params>
        </component>
      </precondition>
    </preconditions>
    <steps>
      <step index="1" name="打开搜索页面">
        <component type="api" name="接口调用 - 获取搜索页">
          <params>
            <param name="method">GET</param>
            <param name="url">/search</param>
          </params>
        </component>
      </step>
      <step index="2" name="输入搜索关键词">
        <component type="input" name="输入搜索词">
          <params>
            <param name="selector">#search-input</param>
            <param name="value">测试关键词</param>
          </params>
        </component>
      </step>
      <step index="3" name="点击搜索按钮">
        <component type="button" name="点击搜索">
          <params>
            <param name="selector">#search-btn</param>
            <param name="action">click</param>
          </params>
        </component>
      </step>
    </steps>
    <expectedResults>
      <expectedResult index="1" name="显示搜索结果">
        <component type="assert" name="断言 - 结果列表存在">
          <params>
            <param name="type">exists</param>
            <param name="expected">.search-results</param>
          </params>
        </component>
        <component type="assert" name="断言 - 结果数量大于0">
          <params>
            <param name="type">greater_than</param>
            <param name="expected">0</param>
          </params>
        </component>
      </expectedResult>
    </expectedResults>
  </testcase>
</testcases>