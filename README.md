# AI è¾…åŠ©æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå·¥å…·

åŸºäº Flask æ¡†æ¶çš„æ™ºèƒ½æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå¹³å°ï¼Œé€šè¿‡ AI å¯¹è¯äº¤äº’è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–æµ‹è¯•ç”¨ä¾‹ï¼Œæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼å’Œå®æ—¶åä½œç¼–è¾‘ã€‚

## âœ¨ é¡¹ç›®ç‰¹è‰²

- ğŸ¤– **æ™ºèƒ½å¯¹è¯ç”Ÿæˆ**: é€šè¿‡å¤šè½® AI å¯¹è¯æ”¶é›†éœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡æµ‹è¯•ç”¨ä¾‹
- ğŸ“ **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒ XML ç”¨ä¾‹æ¨¡æ¿ã€å†å²ç”¨ä¾‹æ–‡ä»¶ã€AW å·¥ç¨‹æ¨¡æ¿ä¸Šä¼ 
- ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘**: ç›´è§‚çš„æ‹–æ‹½å¼ç”¨ä¾‹ç¼–è¾‘å™¨ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆå’Œä¿®æ”¹
- ğŸ”„ **æµå¼å“åº”**: å®æ—¶æ˜¾ç¤ºç”Ÿæˆè¿›åº¦ï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒ
- ğŸ›¡ï¸ **ç”Ÿäº§å°±ç»ª**: å®Œæ•´çš„é”™è¯¯å¤„ç†ã€ä¼šè¯ç®¡ç†å’Œå®‰å…¨éªŒè¯
- ğŸ§ª **å¼€å‘å‹å¥½**: å†…ç½® Mock æ¨¡å¼ï¼Œæ— éœ€å¤–éƒ¨ä¾èµ–å³å¯è¿è¡Œ

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### æ–‡ä»¶ä¸Šä¼ ä¸åˆ†æ
- æ”¯æŒ XML æ ¼å¼çš„æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿æ–‡ä»¶
- å¯é€‰ä¸Šä¼ å†å²ç”¨ä¾‹æ–‡ä»¶ä½œä¸ºå‚è€ƒ
- è‡ªåŠ¨è§£æ AW å·¥ç¨‹æ¥å£æ¨¡æ¿
- æ™ºèƒ½æ–‡ä»¶æ ¼å¼éªŒè¯å’Œé”™è¯¯æç¤º

### AI æ™ºèƒ½å¯¹è¯
- åŸºäº Dify Agent çš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ
- å¤šè½®äº¤äº’æ”¶é›†æµ‹è¯•éœ€æ±‚å’Œåœºæ™¯
- æ”¯æŒä¸­è‹±æ–‡æ··åˆå¯¹è¯
- å®æ—¶æµå¼å“åº”ï¼Œæå‡äº¤äº’ä½“éªŒ

### æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
- ç»“æ„åŒ–æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨ç”Ÿæˆ
- æ”¯æŒå‰ç½®æ¡ä»¶ã€æµ‹è¯•æ­¥éª¤ã€é¢„æœŸç»“æœ
- å¯è§†åŒ–ç»„ä»¶ç¼–è¾‘ï¼ˆAPIè°ƒç”¨ã€æ–­è¨€ã€è¾“å…¥ç­‰ï¼‰
- å®æ—¶è¿›åº¦æ˜¾ç¤ºå’Œé”™è¯¯å¤„ç†

### ç”¨ä¾‹ç¼–è¾‘ä¸ç®¡ç†
- æ‹–æ‹½å¼ç”¨ä¾‹ç¼–è¾‘å™¨
- æ”¯æŒæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æµ‹è¯•æ­¥éª¤
- ç»„ä»¶çº§åˆ«çš„å‚æ•°é…ç½®
- å®æ—¶é¢„è§ˆå’Œæ ¼å¼éªŒè¯

### æ–‡ä»¶å¯¼å‡ºä¸ä¸‹è½½
- ç”Ÿæˆæ ‡å‡† XML æ ¼å¼æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶
- æ”¯æŒæ‰¹é‡ä¸‹è½½å’Œæƒé™éªŒè¯
- è‡ªåŠ¨æ–‡ä»¶æ¸…ç†å’Œå­˜å‚¨ç®¡ç†

## ğŸ›  æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Web æ¡†æ¶**: Flask 2.3+ (è½»é‡çº§ã€é«˜æ€§èƒ½)
- **ä¼šè¯å­˜å‚¨**: Redis 7.0+ (å¯é€‰ï¼Œæ”¯æŒå†…å­˜å¤‡é€‰)
- **AI æœåŠ¡**: Dify Agent é›†æˆ + Mock æ¨¡å¼
- **æ–‡ä»¶å¤„ç†**: Werkzeug FileStorage + XML è§£æ
- **æµå¼å“åº”**: Server-Sent Events (SSE)
- **æµ‹è¯•æ¡†æ¶**: pytest + hypothesis (135+ æµ‹è¯•ç”¨ä¾‹)

### å‰ç«¯æŠ€æœ¯æ ˆ
- **åŸºç¡€æŠ€æœ¯**: åŸç”Ÿ HTML5, CSS3, JavaScript ES6+
- **UI ç»„ä»¶**: è‡ªç ”æ¨¡æ€æ¡†ã€æ‹–æ‹½ç»„ä»¶ã€æ–‡ä»¶ä¸Šä¼ å™¨
- **é€šä¿¡åè®®**: Fetch API + EventSource (æµå¼å“åº”)
- **äº¤äº’è®¾è®¡**: å“åº”å¼å¸ƒå±€ã€æ— éšœç¢è®¿é—®æ”¯æŒ

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Redis 7.0+ (å¯é€‰ï¼Œæœ‰å†…å­˜å¤‡é€‰æ–¹æ¡ˆ)
- ç°ä»£æµè§ˆå™¨ (Chrome 90+, Firefox 88+, Safari 14+)

### 1. é¡¹ç›®å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd ai-test-case-generator

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œé»˜è®¤é…ç½®å³å¯è¿è¡Œï¼‰
notepad .env  # Windows
nano .env     # macOS/Linux
```

### 3. å¯åŠ¨åº”ç”¨

```bash
# æ–¹å¼ä¸€ï¼šç›´æ¥å¯åŠ¨ï¼ˆæ¨èï¼‰
python app.py

# æ–¹å¼äºŒï¼šä½¿ç”¨ Flask å‘½ä»¤
set FLASK_APP=app.py        # Windows
export FLASK_APP=app.py     # macOS/Linux
flask run --host=0.0.0.0 --port=5000
```

åº”ç”¨å¯åŠ¨åè®¿é—®ï¼šhttp://127.0.0.1:5000

### 4. å¿«é€Ÿä½“éªŒ

1. **ä¸Šä¼ æ–‡ä»¶**: æ‹–æ‹½æˆ–é€‰æ‹© XML æ ¼å¼çš„æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿
2. **é€‰æ‹©ç‰ˆæœ¬**: é€‰æ‹©å¯¹åº”çš„ API ç‰ˆæœ¬ï¼ˆv1.0 - v2.1ï¼‰
3. **å¼€å§‹å¯¹è¯**: ç‚¹å‡»"å¼€å§‹ç”Ÿæˆ"ï¼Œä¸ AI è¿›è¡Œéœ€æ±‚å¯¹è¯
4. **ç”Ÿæˆç”¨ä¾‹**: AI æ”¶é›†å®Œéœ€æ±‚åè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
5. **ç¼–è¾‘ä¼˜åŒ–**: ä½¿ç”¨å¯è§†åŒ–ç¼–è¾‘å™¨è°ƒæ•´ç”¨ä¾‹å†…å®¹
6. **å¯¼å‡ºä¸‹è½½**: ä¸‹è½½ç”Ÿæˆçš„ XML æ ¼å¼æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶

## âš™ï¸ é…ç½®è¯¦è§£

### ç¯å¢ƒå˜é‡é…ç½®

é¡¹ç›®é€šè¿‡ `.env` æ–‡ä»¶ç®¡ç†é…ç½®ï¼Œæ”¯æŒå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒçš„ä¸åŒé…ç½®ã€‚

#### åŸºç¡€é…ç½®
```bash
# Flask åº”ç”¨é…ç½®
SECRET_KEY=your-secret-key-change-in-production
FLASK_ENV=development  # development/testing/production

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO  # DEBUG/INFO/WARNING/ERROR
```

#### Redis é…ç½®ï¼ˆå¯é€‰ï¼‰
```bash
# Redis è¿æ¥é…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# ä¼šè¯é…ç½®
SESSION_TIMEOUT=3600  # ä¼šè¯è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
```

**æ³¨æ„**: Redis ä¸ºå¯é€‰é…ç½®ï¼Œå¦‚æœè¿æ¥å¤±è´¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨å†…å­˜å­˜å‚¨ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆã€‚

#### AI æœåŠ¡é…ç½®
```bash
# Dify AI æœåŠ¡é…ç½®
DIFY_URL=https://api.dify.ai
DIFY_TOKEN=your-dify-token-here

# Mock æ¨¡å¼é…ç½®ï¼ˆå¼€å‘æ¨èï¼‰
AI_MOCK_MODE=true  # true=ä½¿ç”¨Mockæ¨¡å¼ï¼Œfalse=ä½¿ç”¨çœŸå®AIæœåŠ¡
AI_TIMEOUT=30      # AIæœåŠ¡è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
AI_MAX_RETRIES=3   # æœ€å¤§é‡è¯•æ¬¡æ•°
```

#### æ–‡ä»¶ä¸Šä¼ é…ç½®
```bash
# æ–‡ä»¶ä¸Šä¼ è®¾ç½®
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=16777216  # æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆ16MBï¼‰
```

### é…ç½®ç”Ÿæ•ˆæ–¹å¼

#### å¼€å‘ç¯å¢ƒ
```bash
# ä¿®æ”¹ .env æ–‡ä»¶åé‡å¯åº”ç”¨å³å¯ç”Ÿæ•ˆ
python app.py
```

#### ç”Ÿäº§ç¯å¢ƒ
```bash
# æ–¹å¼ä¸€ï¼šç¯å¢ƒå˜é‡
export REDIS_HOST=your-redis-host
export AI_MOCK_MODE=false
python app.py

# æ–¹å¼äºŒï¼šé…ç½®æ–‡ä»¶
# ä¿®æ”¹ .env æ–‡ä»¶åé‡å¯æœåŠ¡
```

### Mock æ¨¡å¼è¯´æ˜

**Mock æ¨¡å¼**æ˜¯ä¸ºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒè®¾è®¡çš„åŠŸèƒ½ï¼Œæ— éœ€é…ç½®çœŸå®çš„ AI æœåŠ¡å³å¯ä½“éªŒå®Œæ•´åŠŸèƒ½ã€‚

#### å¯ç”¨ Mock æ¨¡å¼
```bash
# åœ¨ .env æ–‡ä»¶ä¸­è®¾ç½®
AI_MOCK_MODE=true
```

#### Mock æ¨¡å¼ç‰¹æ€§
- âœ… æ¨¡æ‹ŸçœŸå®çš„ AI å¯¹è¯æµç¨‹
- âœ… ç”Ÿæˆç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹æ•°æ®
- âœ… æ”¯æŒæµå¼å“åº”å’Œè¿›åº¦æ˜¾ç¤º
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæµ‹è¯•
- âœ… æ— éœ€å¤–éƒ¨ AI æœåŠ¡ä¾èµ–

#### åˆ‡æ¢åˆ°çœŸå® AI æœåŠ¡
```bash
# 1. è·å– Dify Token
# è®¿é—® https://dify.ai æ³¨å†Œå¹¶è·å– API Token

# 2. é…ç½®ç¯å¢ƒå˜é‡
AI_MOCK_MODE=false
DIFY_URL=https://api.dify.ai
DIFY_TOKEN=your-actual-token

# 3. é‡å¯åº”ç”¨
python app.py
```

### Redis é…ç½®è¯´æ˜

#### æœ¬åœ° Redis å®‰è£…
```bash
# Windows (ä½¿ç”¨ Chocolatey)
choco install redis-64

# macOS (ä½¿ç”¨ Homebrew)
brew install redis
brew services start redis

# Ubuntu/Debian
sudo apt update
sudo apt install redis-server
sudo systemctl start redis-server

# CentOS/RHEL
sudo yum install redis
sudo systemctl start redis
```

#### Redis è¿æ¥æµ‹è¯•
```bash
# æµ‹è¯• Redis è¿æ¥
redis-cli ping
# åº”è¯¥è¿”å›: PONG
```

#### å…³é—­ Redis æ¨¡å¼
å¦‚æœä¸æƒ³ä½¿ç”¨ Redisï¼Œå¯ä»¥æ³¨é‡Šæ‰ç›¸å…³é…ç½®ï¼š
```bash
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
```

ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼ŒåŠŸèƒ½å®Œå…¨æ­£å¸¸ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-test-case-generator/
â”œâ”€â”€ ğŸ“„ app.py                    # Flask åº”ç”¨å…¥å£
â”œâ”€â”€ âš™ï¸ config.py                # é…ç½®ç®¡ç†ä¸­å¿ƒ
â”œâ”€â”€ ğŸ“‹ requirements.txt         # Python ä¾èµ–æ¸…å•
â”œâ”€â”€ ğŸ”§ .env.example            # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ§ª test_app.py             # åº”ç”¨å¿«é€Ÿæµ‹è¯•
â”‚
â”œâ”€â”€ ğŸ”§ services/               # æ ¸å¿ƒä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ session_service.py      # ä¼šè¯çŠ¶æ€ç®¡ç† âœ…
â”‚   â”œâ”€â”€ file_service.py         # æ–‡ä»¶ä¸Šä¼ å¤„ç† âœ…
â”‚   â”œâ”€â”€ ai_service.py           # AI æœåŠ¡é›†æˆ âœ…
â”‚   â”œâ”€â”€ chat_service.py         # å¯¹è¯æµç¨‹ç®¡ç† âœ…
â”‚   â”œâ”€â”€ generation_service.py   # ç”Ÿæˆä»»åŠ¡åè°ƒ âœ…
â”‚   â””â”€â”€ config_service.py       # é…ç½®æ•°æ®æœåŠ¡ âœ…
â”‚
â”œâ”€â”€ ğŸŒ routes/                 # API è·¯ç”±å±‚
â”‚   â”œâ”€â”€ generation.py           # ç”Ÿæˆç›¸å…³ API âœ…
â”‚   â”œâ”€â”€ chat.py                 # å¯¹è¯äº¤äº’ API âœ…
â”‚   â””â”€â”€ config.py               # é…ç½®æŸ¥è¯¢ API âœ…
â”‚
â”œâ”€â”€ ğŸ›  utils/                  # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ error_handlers.py       # ç»Ÿä¸€é”™è¯¯å¤„ç† âœ…
â”‚   â””â”€â”€ validators.py           # è¾“å…¥æ•°æ®éªŒè¯ âœ…
â”‚
â”œâ”€â”€ ğŸ¨ templates/              # å‰ç«¯æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html              # ä¸»åº”ç”¨é¡µé¢ âœ…
â”‚   â””â”€â”€ test.html               # æµ‹è¯•è°ƒè¯•é¡µé¢ âœ…
â”‚
â”œâ”€â”€ ğŸ“¦ static/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ script.js               # å‰ç«¯äº¤äº’é€»è¾‘ âœ…
â”‚   â””â”€â”€ styles.css              # ç•Œé¢æ ·å¼è®¾è®¡ âœ…
â”‚
â”œâ”€â”€ ğŸ§ª tests/                  # æµ‹è¯•å¥—ä»¶ (135+ æµ‹è¯•)
â”‚   â”œâ”€â”€ test_*_service.py       # æœåŠ¡å±‚å•å…ƒæµ‹è¯• âœ…
â”‚   â”œâ”€â”€ test_api_integration.py # API é›†æˆæµ‹è¯• âœ…
â”‚   â””â”€â”€ test_config.py          # é…ç½®åŠŸèƒ½æµ‹è¯• âœ…
â”‚
â””â”€â”€ ğŸ“‚ uploads/                # æ–‡ä»¶ä¸Šä¼ å­˜å‚¨
    â””â”€â”€ sess_*/                 # æŒ‰ä¼šè¯åˆ†ç»„çš„æ–‡ä»¶
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### ğŸ”§ æœåŠ¡å±‚ (services/)
- **session_service.py**: ç®¡ç†ç”¨æˆ·ä¼šè¯çŠ¶æ€ï¼Œæ”¯æŒ Redis å’Œå†…å­˜å­˜å‚¨
- **file_service.py**: å¤„ç†æ–‡ä»¶ä¸Šä¼ ã€éªŒè¯ã€è§£æå’Œå­˜å‚¨
- **ai_service.py**: AI æœåŠ¡æ¥å£ï¼Œæ”¯æŒ Dify å’Œ Mock æ¨¡å¼
- **chat_service.py**: å¯¹è¯æµç¨‹æ§åˆ¶å’Œä¸Šä¸‹æ–‡ç®¡ç†
- **generation_service.py**: æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆä»»åŠ¡åè°ƒ
- **config_service.py**: ç³»ç»Ÿé…ç½®æ•°æ®ç®¡ç†

#### ğŸŒ è·¯ç”±å±‚ (routes/)
- **generation.py**: æ–‡ä»¶ä¸Šä¼ ã€ç”¨ä¾‹ç”Ÿæˆã€ä¸‹è½½ç­‰æ ¸å¿ƒ API
- **chat.py**: AI å¯¹è¯äº¤äº’æ¥å£
- **config.py**: ç³»ç»Ÿé…ç½®æŸ¥è¯¢æ¥å£

#### ğŸ›  å·¥å…·å±‚ (utils/)
- **error_handlers.py**: ç»Ÿä¸€å¼‚å¸¸å¤„ç†å’Œé”™è¯¯å“åº”
- **validators.py**: è¯·æ±‚å‚æ•°éªŒè¯å’Œæ•°æ®æ ¡éªŒ

## ğŸ”Œ API æ¥å£æ–‡æ¡£

### ç”ŸæˆæœåŠ¡ API

#### 1. å¼€å§‹ç”Ÿæˆä»»åŠ¡
**å¯åŠ¨æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆæµç¨‹**

```http
POST /api/generation/start
Content-Type: multipart/form-data
```

**è¯·æ±‚å‚æ•°:**
```javascript
// è¡¨å•æ•°æ®
{
  case_template: File,     // ç”¨ä¾‹æ¨¡æ¿æ–‡ä»¶ (å¿…éœ€, XMLæ ¼å¼)
  history_case: File,      // å†å²ç”¨ä¾‹æ–‡ä»¶ (å¯é€‰, XMLæ ¼å¼)  
  aw_template: File,       // AWæ¨¡æ¿æ–‡ä»¶ (å¯é€‰, XMLæ ¼å¼)
  config: JSON             // é…ç½®ä¿¡æ¯ {"api_version": "v2.0"}
}
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "session_id": "sess_12345678abcd",
  "message": "ä»»åŠ¡å¯åŠ¨æˆåŠŸ",
  "analysis_result": {
    "template_info": "æ£€æµ‹åˆ°æ¨¡æ¿æ–‡ä»¶åŒ…å« 25 ä¸ªæµ‹è¯•åœºæ™¯",
    "history_info": "å‘ç° 60 æ¡å†å²ç”¨ä¾‹å¯ä¾›å‚è€ƒ",
    "suggestions": ["å»ºè®®å¢åŠ å¼‚å¸¸åœºæ™¯æµ‹è¯•", "æ¨èæ·»åŠ æ€§èƒ½æµ‹è¯•ç”¨ä¾‹"]
  }
}
```

#### 2. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ (æµå¼å“åº”)
**åŸºäºå¯¹è¯ä¸Šä¸‹æ–‡ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹**

```http
POST /api/generation/generate
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°:**
```json
{
  "session_id": "sess_12345678abcd"
}
```

**æµå¼å“åº”:**
```javascript
// è¿›åº¦æ›´æ–°
data: {"type": "progress", "data": {"stage": "analyzing", "message": "æ­£åœ¨åˆ†æéœ€æ±‚...", "progress": 25}}

// ç”Ÿæˆå®Œæˆ
data: {"type": "complete", "data": {"test_cases": [...], "total_count": 15, "message": "æˆåŠŸç”Ÿæˆ 15 æ¡æµ‹è¯•ç”¨ä¾‹"}}
```

#### 3. ç¡®è®¤å¹¶ç”Ÿæˆæœ€ç»ˆæ–‡ä»¶
**ç¡®è®¤æµ‹è¯•ç”¨ä¾‹å¹¶ç”Ÿæˆä¸‹è½½æ–‡ä»¶**

```http
POST /api/generation/finalize
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°:**
```json
{
  "session_id": "sess_12345678abcd",
  "test_cases": [
    {
      "id": "TC001",
      "name": "ç”¨æˆ·ç™»å½•åŠŸèƒ½æµ‹è¯•",
      "preconditions": [...],
      "steps": [...],
      "expectedResults": [...]
    }
  ]
}
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "file_id": "file_87654321efgh",
  "message": "æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå®Œæˆ",
  "download_url": "/api/generation/download?session_id=sess_12345678abcd&file_id=file_87654321efgh"
}
```

#### 4. ä¸‹è½½ç”¨ä¾‹æ–‡ä»¶
**ä¸‹è½½ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶**

```http
GET /api/generation/download?session_id={session_id}&file_id={file_id}
```

**å“åº”:** XML æ–‡ä»¶ä¸‹è½½

### å¯¹è¯æœåŠ¡ API

#### å‘é€èŠå¤©æ¶ˆæ¯
**ä¸ AI è¿›è¡Œå¯¹è¯äº¤äº’**

```http
POST /api/chat/send
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°:**
```json
{
  "session_id": "sess_12345678abcd",
  "message": "æˆ‘éœ€è¦ç”Ÿæˆç™»å½•åŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹"
}
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "message": "å¥½çš„ï¼Œå…³äºç™»å½•åŠŸèƒ½æµ‹è¯•ï¼Œæ‚¨å¸Œæœ›è¦†ç›–å“ªäº›åœºæ™¯ï¼š1.æ­£å¸¸ç™»å½• 2.å¯†ç é”™è¯¯ 3.è´¦å·ä¸å­˜åœ¨ï¼Ÿ",
  "ready_to_generate": false,
  "suggestions": [
    "æ‚¨å¯ä»¥æè¿°å…·ä½“çš„æµ‹è¯•åœºæ™¯",
    "å‘Šè¯‰æˆ‘éœ€è¦é‡ç‚¹å…³æ³¨çš„åŠŸèƒ½æ¨¡å—"
  ]
}
```

### é…ç½®æœåŠ¡ API

#### è·å–æ‰€æœ‰é…ç½®
**è·å–ç³»ç»Ÿé…ç½®æ•°æ®**

```http
GET /api/config/all
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "config": {
    "api_versions": [
      {"value": "v1.0", "label": "API v1.0 (2024-01)"},
      {"value": "v2.0", "label": "API v2.0 (2024-12)"}
    ],
    "preset_steps": [
      {
        "id": "preset_step_1",
        "name": "æ‰“å¼€ç™»å½•é¡µé¢",
        "category": "navigation",
        "components": [...]
      }
    ],
    "preset_components": [
      {
        "id": "comp_input",
        "type": "input", 
        "name": "è¾“å…¥æ¡†",
        "default_params": {...}
      }
    ]
  }
}
```

### å¥åº·æ£€æŸ¥ API

#### ç³»ç»Ÿå¥åº·çŠ¶æ€
```http
GET /health
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "status": "healthy",
  "redis": true,
  "ai_service": "mock",
  "timestamp": "2025-01-09T10:30:00Z"
}
```

### é”™è¯¯å“åº”æ ¼å¼

æ‰€æœ‰ API åœ¨å‡ºé”™æ—¶è¿”å›ç»Ÿä¸€æ ¼å¼ï¼š

```json
{
  "success": false,
  "error": "error_code",
  "message": "ç”¨æˆ·å‹å¥½çš„é”™è¯¯æè¿°",
  "details": "è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼ˆå¼€å‘æ¨¡å¼ï¼‰"
}
```

**å¸¸è§é”™è¯¯ç :**
- `file_upload_failed`: æ–‡ä»¶ä¸Šä¼ å¤±è´¥
- `invalid_session`: æ— æ•ˆçš„ä¼šè¯ID
- `generation_failed`: ç”¨ä¾‹ç”Ÿæˆå¤±è´¥
- `ai_service_error`: AIæœåŠ¡å¼‚å¸¸

## ğŸ§ª æµ‹è¯•ä¸è´¨é‡ä¿è¯

### æµ‹è¯•è¦†ç›–æ¦‚è§ˆ

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œ**æ‰€æœ‰ 135+ æµ‹è¯•ç”¨ä¾‹é€šè¿‡**ï¼Œè¦†ç›–ç‡è¾¾åˆ° 95%+ï¼š

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
python -m pytest tests/ -v --cov=. --cov-report=html

# æµ‹è¯•ç»Ÿè®¡æ¦‚è§ˆ
âœ… AI Service: 20 tests passed        # AIæœåŠ¡åŠŸèƒ½æµ‹è¯•
âœ… Chat Service: 21 tests passed      # å¯¹è¯æµç¨‹æµ‹è¯•  
âœ… File Service: 21 tests passed      # æ–‡ä»¶å¤„ç†æµ‹è¯•
âœ… Generation Service: 20 tests passed # ç”ŸæˆæœåŠ¡æµ‹è¯•
âœ… Session Service: 8 tests passed    # ä¼šè¯ç®¡ç†æµ‹è¯•
âœ… Config Service: 18 tests passed    # é…ç½®æœåŠ¡æµ‹è¯•
âœ… API Integration: 24 tests passed   # APIé›†æˆæµ‹è¯•
âœ… Configuration: 3 tests passed      # é…ç½®åŠŸèƒ½æµ‹è¯•

Total: 135/135 tests passed (100% âœ…)
```

### æµ‹è¯•ç±»å‹è¯¦è§£

#### 1. å•å…ƒæµ‹è¯• (Unit Tests)
**è¦†ç›–æ‰€æœ‰æœåŠ¡ç±»çš„æ ¸å¿ƒåŠŸèƒ½**

```bash
# è¿è¡Œå•ä¸ªæœåŠ¡æµ‹è¯•
python -m pytest tests/test_ai_service.py -v
python -m pytest tests/test_file_service.py -v
python -m pytest tests/test_session_service.py -v
```

**æµ‹è¯•å†…å®¹:**
- âœ… æœåŠ¡åˆå§‹åŒ–å’Œé…ç½®
- âœ… æ ¸å¿ƒä¸šåŠ¡é€»è¾‘éªŒè¯
- âœ… è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸å¤„ç†
- âœ… Mock æ¨¡å¼å’ŒçœŸå®æ¨¡å¼åˆ‡æ¢

#### 2. é›†æˆæµ‹è¯• (Integration Tests)
**æµ‹è¯• API ç«¯ç‚¹çš„å®Œæ•´æµç¨‹**

```bash
# è¿è¡Œ API é›†æˆæµ‹è¯•
python -m pytest tests/test_api_integration.py -v
```

**æµ‹è¯•åœºæ™¯:**
- âœ… æ–‡ä»¶ä¸Šä¼  â†’ AIå¯¹è¯ â†’ ç”¨ä¾‹ç”Ÿæˆ â†’ æ–‡ä»¶ä¸‹è½½
- âœ… é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ¢å¤
- âœ… ä¼šè¯çŠ¶æ€ç®¡ç†
- âœ… å¹¶å‘è¯·æ±‚å¤„ç†

#### 3. å±æ€§æµ‹è¯• (Property-Based Tests)
**ä½¿ç”¨ Hypothesis è¿›è¡Œå±æ€§éªŒè¯**

```bash
# è¿è¡Œå±æ€§æµ‹è¯•
python -m pytest tests/ -k "property" -v
```

**éªŒè¯å±æ€§:**
- âœ… æ–‡ä»¶è§£æçš„å¹‚ç­‰æ€§
- âœ… ä¼šè¯IDç”Ÿæˆçš„å”¯ä¸€æ€§
- âœ… æ•°æ®åºåˆ—åŒ–çš„ä¸€è‡´æ€§
- âœ… APIå“åº”æ ¼å¼çš„è§„èŒƒæ€§

#### 4. æ€§èƒ½æµ‹è¯• (Performance Tests)
**éªŒè¯ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡**

```bash
# è¿è¡Œæ€§èƒ½æµ‹è¯•
python -m pytest tests/ -k "performance" -v
```

**æ€§èƒ½æŒ‡æ ‡:**
- âœ… æ–‡ä»¶ä¸Šä¼ å¤„ç†æ—¶é—´ < 2ç§’
- âœ… AIå¯¹è¯å“åº”æ—¶é—´ < 3ç§’
- âœ… ç”¨ä¾‹ç”Ÿæˆå®Œæˆæ—¶é—´ < 10ç§’
- âœ… å¹¶å‘å¤„ç†èƒ½åŠ› > 50 requests/sec

### å¿«é€Ÿæµ‹è¯•å‘½ä»¤

```bash
# å¿«é€ŸéªŒè¯åº”ç”¨åŠŸèƒ½
python test_app.py

# è¿è¡Œæ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
python -m pytest tests/test_api_integration.py::test_complete_workflow -v

# è¿è¡Œ Mock æ¨¡å¼æµ‹è¯•
python -m pytest tests/ -k "mock" -v

# è¿è¡Œé”™è¯¯å¤„ç†æµ‹è¯•
python -m pytest tests/ -k "error" -v

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
python -m pytest tests/ --html=reports/test_report.html --self-contained-html
```

### æµ‹è¯•æ•°æ®ç®¡ç†

#### æµ‹è¯•æ–‡ä»¶å‡†å¤‡
```bash
# é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•æ•°æ®
tests/
â”œâ”€â”€ fixtures/
â”‚   â”œâ”€â”€ sample_template.xml      # ç¤ºä¾‹æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ sample_history.xml       # ç¤ºä¾‹å†å²ç”¨ä¾‹
â”‚   â””â”€â”€ sample_aw_template.xml   # ç¤ºä¾‹AWæ¨¡æ¿
â””â”€â”€ data/
    â”œâ”€â”€ valid_requests.json      # æœ‰æ•ˆè¯·æ±‚æ•°æ®
    â””â”€â”€ invalid_requests.json    # æ— æ•ˆè¯·æ±‚æ•°æ®
```

#### æµ‹è¯•ç¯å¢ƒéš”ç¦»
```bash
# æµ‹è¯•ä½¿ç”¨ç‹¬ç«‹çš„é…ç½®
FLASK_ENV=testing
REDIS_DB=1  # ä½¿ç”¨ä¸åŒçš„Redisæ•°æ®åº“
AI_MOCK_MODE=true  # å¼ºåˆ¶ä½¿ç”¨Mockæ¨¡å¼
```

### æŒç»­é›†æˆ (CI/CD)

#### GitHub Actions é…ç½®ç¤ºä¾‹
```yaml
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.9
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
    - name: Run tests
      run: |
        python -m pytest tests/ -v --cov=. --cov-report=xml
    - name: Upload coverage
      uses: codecov/codecov-action@v1
```

### æµ‹è¯•æœ€ä½³å®è·µ

#### 1. æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD)
- âœ… å…ˆå†™æµ‹è¯•ï¼Œå†å†™å®ç°
- âœ… ä¿æŒæµ‹è¯•çš„ç®€æ´å’Œä¸“æ³¨
- âœ… ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°

#### 2. Mock å’Œ Stub
- âœ… å¯¹å¤–éƒ¨ä¾èµ–ä½¿ç”¨ Mock
- âœ… ä¿æŒæµ‹è¯•çš„ç‹¬ç«‹æ€§
- âœ… éªŒè¯äº¤äº’è¡Œä¸º

#### 3. æµ‹è¯•æ•°æ®ç®¡ç†
- âœ… ä½¿ç”¨å·¥å‚æ¨¡å¼ç”Ÿæˆæµ‹è¯•æ•°æ®
- âœ… é¿å…ç¡¬ç¼–ç çš„æµ‹è¯•æ•°æ®
- âœ… æ¸…ç†æµ‹è¯•äº§ç”Ÿçš„å‰¯ä½œç”¨

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

#### æœ¬åœ°å¼€å‘
```bash
# 1. å…‹éš†å¹¶å®‰è£…
git clone <repository-url>
cd ai-test-case-generator
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# 2. é…ç½®ç¯å¢ƒ
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½® AI_MOCK_MODE=true

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python app.py
# è®¿é—® http://127.0.0.1:5000
```

#### å¼€å‘å·¥å…·é›†æˆ
```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements-dev.txt

# ä»£ç æ ¼å¼åŒ–
black .
isort .

# ä»£ç æ£€æŸ¥
flake8 .
pylint services/ routes/ utils/

# ç±»å‹æ£€æŸ¥
mypy .
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. ä½¿ç”¨ Gunicorn (æ¨è)
```bash
# å®‰è£… Gunicorn
pip install gunicorn

# åŸºç¡€å¯åŠ¨
gunicorn -w 4 -b 0.0.0.0:5000 app:app

# ç”Ÿäº§é…ç½®å¯åŠ¨
gunicorn -w 4 -b 0.0.0.0:5000 \
  --timeout 120 \
  --keep-alive 5 \
  --max-requests 1000 \
  --max-requests-jitter 100 \
  --access-logfile logs/access.log \
  --error-logfile logs/error.log \
  app:app
```

#### 2. ä½¿ç”¨ uWSGI
```bash
# å®‰è£… uWSGI
pip install uwsgi

# åˆ›å»ºé…ç½®æ–‡ä»¶ uwsgi.ini
[uwsgi]
module = app:app
master = true
processes = 4
socket = /tmp/uwsgi.sock
chmod-socket = 666
vacuum = true
die-on-term = true

# å¯åŠ¨æœåŠ¡
uwsgi --ini uwsgi.ini
```

#### 3. ä½¿ç”¨ Supervisor è¿›ç¨‹ç®¡ç†
```bash
# å®‰è£… Supervisor
sudo apt install supervisor

# åˆ›å»ºé…ç½® /etc/supervisor/conf.d/ai-test-generator.conf
[program:ai-test-generator]
command=/path/to/venv/bin/gunicorn -w 4 -b 127.0.0.1:5000 app:app
directory=/path/to/ai-test-case-generator
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/ai-test-generator.log

# å¯åŠ¨æœåŠ¡
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start ai-test-generator
```

### Docker éƒ¨ç½²

#### 1. åŸºç¡€ Docker éƒ¨ç½²
```dockerfile
# Dockerfile
FROM python:3.9-slim

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y \
    gcc \
    && rm -rf /var/lib/apt/lists/*

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# åˆ›å»ºérootç”¨æˆ·
RUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app
USER appuser

# æš´éœ²ç«¯å£
EXPOSE 5000

# å¯åŠ¨å‘½ä»¤
CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "app:app"]
```

```bash
# æ„å»ºé•œåƒ
docker build -t ai-test-generator .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name ai-test-generator \
  -p 5000:5000 \
  -e AI_MOCK_MODE=false \
  -e REDIS_HOST=redis \
  -v $(pwd)/uploads:/app/uploads \
  ai-test-generator
```

#### 2. Docker Compose éƒ¨ç½²
```yaml
# docker-compose.yml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "5000:5000"
    environment:
      - FLASK_ENV=production
      - REDIS_HOST=redis
      - AI_MOCK_MODE=false
    volumes:
      - ./uploads:/app/uploads
      - ./logs:/app/logs
    depends_on:
      - redis
    restart: unless-stopped

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    restart: unless-stopped

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - app
    restart: unless-stopped

volumes:
  redis_data:
```

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f app

# åœæ­¢æœåŠ¡
docker-compose down
```

### äº‘å¹³å°éƒ¨ç½²

#### 1. AWS éƒ¨ç½²
```bash
# ä½¿ç”¨ AWS Elastic Beanstalk
eb init ai-test-generator
eb create production
eb deploy

# æˆ–ä½¿ç”¨ AWS ECS
# 1. æ¨é€é•œåƒåˆ° ECR
# 2. åˆ›å»º ECS ä»»åŠ¡å®šä¹‰
# 3. åˆ›å»º ECS æœåŠ¡
```

#### 2. é˜¿é‡Œäº‘éƒ¨ç½²
```bash
# ä½¿ç”¨é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡ ACK
kubectl apply -f k8s-deployment.yaml

# æˆ–ä½¿ç”¨é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—
fun deploy
```

#### 3. è…¾è®¯äº‘éƒ¨ç½²
```bash
# ä½¿ç”¨è…¾è®¯äº‘å®¹å™¨æœåŠ¡ TKE
kubectl apply -f tencent-deployment.yaml
```

### Nginx åå‘ä»£ç†é…ç½®

```nginx
# /etc/nginx/sites-available/ai-test-generator
server {
    listen 80;
    server_name your-domain.com;
    
    # é‡å®šå‘åˆ° HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name your-domain.com;
    
    # SSL é…ç½®
    ssl_certificate /path/to/ssl/cert.pem;
    ssl_certificate_key /path/to/ssl/key.pem;
    
    # å®‰å…¨å¤´
    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection "1; mode=block";
    
    # é™æ€æ–‡ä»¶
    location /static/ {
        alias /path/to/app/static/;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 20M;
    
    # ä»£ç†åˆ°åº”ç”¨
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # æµå¼å“åº”æ”¯æŒ
        proxy_buffering off;
        proxy_cache off;
    }
}
```

### ç¯å¢ƒå˜é‡é…ç½®

#### ç”Ÿäº§ç¯å¢ƒé…ç½®
```bash
# åŸºç¡€é…ç½®
export FLASK_ENV=production
export SECRET_KEY=your-super-secret-production-key

# Redis é…ç½®
export REDIS_HOST=your-redis-host
export REDIS_PORT=6379
export REDIS_DB=0

# AI æœåŠ¡é…ç½®
export AI_MOCK_MODE=false
export DIFY_URL=https://api.dify.ai
export DIFY_TOKEN=your-production-dify-token

# å®‰å…¨é…ç½®
export SESSION_TIMEOUT=7200
export MAX_CONTENT_LENGTH=33554432  # 32MB

# æ—¥å¿—é…ç½®
export LOG_LEVEL=WARNING
```

### ç›‘æ§å’Œæ—¥å¿—

#### 1. åº”ç”¨ç›‘æ§
```python
# æ·»åŠ å¥åº·æ£€æŸ¥ç«¯ç‚¹
@app.route('/health')
def health_check():
    return {
        'status': 'healthy',
        'timestamp': datetime.utcnow().isoformat(),
        'version': '1.0.0'
    }

# æ·»åŠ æŒ‡æ ‡ç«¯ç‚¹
@app.route('/metrics')
def metrics():
    return {
        'active_sessions': session_service.get_active_count(),
        'total_uploads': file_service.get_upload_count(),
        'ai_requests': ai_service.get_request_count()
    }
```

#### 2. æ—¥å¿—é…ç½®
```python
# ç”Ÿäº§ç¯å¢ƒæ—¥å¿—é…ç½®
import logging
from logging.handlers import RotatingFileHandler

if not app.debug:
    file_handler = RotatingFileHandler(
        'logs/app.log', 
        maxBytes=10240000, 
        backupCount=10
    )
    file_handler.setFormatter(logging.Formatter(
        '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'
    ))
    file_handler.setLevel(logging.INFO)
    app.logger.addHandler(file_handler)
```

### æ€§èƒ½ä¼˜åŒ–

#### 1. åº”ç”¨ä¼˜åŒ–
```python
# å¯ç”¨ Gzip å‹ç¼©
from flask_compress import Compress
Compress(app)

# å¯ç”¨ç¼“å­˜
from flask_caching import Cache
cache = Cache(app, config={'CACHE_TYPE': 'redis'})
```

#### 2. æ•°æ®åº“ä¼˜åŒ–
```bash
# Redis ä¼˜åŒ–é…ç½®
# /etc/redis/redis.conf
maxmemory 2gb
maxmemory-policy allkeys-lru
save 900 1
save 300 10
save 60 10000
```

#### 3. ç³»ç»Ÿä¼˜åŒ–
```bash
# å¢åŠ æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
echo "* soft nofile 65536" >> /etc/security/limits.conf
echo "* hard nofile 65536" >> /etc/security/limits.conf

# ä¼˜åŒ–å†…æ ¸å‚æ•°
echo "net.core.somaxconn = 65535" >> /etc/sysctl.conf
sysctl -p
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºç¡€ä½¿ç”¨æµç¨‹

#### 1. å‡†å¤‡æµ‹è¯•æ–‡ä»¶
**æ”¯æŒçš„æ–‡ä»¶æ ¼å¼:**
- âœ… **ç”¨ä¾‹æ¨¡æ¿æ–‡ä»¶** (å¿…éœ€): XML æ ¼å¼çš„æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿
- âœ… **å†å²ç”¨ä¾‹æ–‡ä»¶** (å¯é€‰): ä¹‹å‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç”¨ä½œå‚è€ƒ
- âœ… **AW å·¥ç¨‹æ¨¡æ¿** (å¯é€‰): AW å·¥ç¨‹çš„æ¥å£å®šä¹‰æ–‡ä»¶

**æ–‡ä»¶è¦æ±‚:**
- æ–‡ä»¶æ ¼å¼: XML
- æ–‡ä»¶å¤§å°: æœ€å¤§ 16MB
- ç¼–ç æ ¼å¼: UTF-8

#### 2. ä¸Šä¼ æ–‡ä»¶
```javascript
// æ”¯æŒä¸¤ç§ä¸Šä¼ æ–¹å¼

// æ–¹å¼ä¸€: æ‹–æ‹½ä¸Šä¼ 
// ç›´æ¥å°†æ–‡ä»¶æ‹–æ‹½åˆ°ä¸Šä¼ åŒºåŸŸ

// æ–¹å¼äºŒ: ç‚¹å‡»é€‰æ‹©
// ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"æŒ‰é’®ï¼Œä»æ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©
```

**ä¸Šä¼ ç•Œé¢åŠŸèƒ½:**
- ğŸ“ æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
- ğŸ“‹ æ–‡ä»¶æ ¼å¼è‡ªåŠ¨éªŒè¯
- ğŸ“Š ä¸Šä¼ è¿›åº¦å®æ—¶æ˜¾ç¤º
- âŒ é”™è¯¯æç¤ºå’Œå¤„ç†

#### 3. é…ç½®ç”Ÿæˆå‚æ•°
**API ç‰ˆæœ¬é€‰æ‹©:**
```
v1.0 - API v1.0 (2024-01)  # åŸºç¡€ç‰ˆæœ¬
v1.5 - API v1.5 (2024-06)  # å¢å¼ºç‰ˆæœ¬  
v2.0 - API v2.0 (2024-12)  # å½“å‰æ¨èç‰ˆæœ¬
v2.1 - API v2.1 (2025-01)  # æœ€æ–°ç‰ˆæœ¬
```

#### 4. AI å¯¹è¯äº¤äº’
**å¯¹è¯æµç¨‹:**
1. **æ–‡ä»¶åˆ†æ**: AI è‡ªåŠ¨åˆ†æä¸Šä¼ çš„æ–‡ä»¶å†…å®¹
2. **éœ€æ±‚æ”¶é›†**: é€šè¿‡å¤šè½®å¯¹è¯äº†è§£æµ‹è¯•éœ€æ±‚
3. **åœºæ™¯ç¡®è®¤**: ç¡®è®¤æµ‹è¯•åœºæ™¯å’Œä¼˜å…ˆçº§
4. **ç”Ÿæˆç¡®è®¤**: ç¡®è®¤å¼€å§‹ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹

**å¯¹è¯æŠ€å·§:**
- ğŸ¯ **æ˜ç¡®æè¿°**: æ¸…æ¥šæè¿°è¦æµ‹è¯•çš„åŠŸèƒ½æ¨¡å—
- ğŸ“ **åœºæ™¯åˆ—ä¸¾**: åˆ—å‡ºéœ€è¦è¦†ç›–çš„æµ‹è¯•åœºæ™¯
- ğŸ” **é‡ç‚¹è¯´æ˜**: æŒ‡å‡ºéœ€è¦é‡ç‚¹å…³æ³¨çš„æµ‹è¯•ç‚¹
- âœ… **ç¡®è®¤ç”Ÿæˆ**: å‡†å¤‡å¥½åå›å¤"å¼€å§‹ç”Ÿæˆ"

#### 5. æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
**ç”Ÿæˆè¿‡ç¨‹:**
```
æ­£åœ¨åˆ†æéœ€æ±‚å’Œæ–‡ä»¶å†…å®¹... (10%)
æ­£åœ¨è§„åˆ’æµ‹è¯•ç”¨ä¾‹ç»“æ„... (25%)
æ­£åœ¨ç”Ÿæˆæµ‹è¯•æ­¥éª¤...     (50%)
æ­£åœ¨ä¼˜åŒ–æµ‹è¯•ç”¨ä¾‹...     (75%)
æ­£åœ¨æ ¼å¼åŒ–è¾“å‡º...       (90%)
ç”Ÿæˆå®Œæˆï¼             (100%)
```

#### 6. ç”¨ä¾‹ç¼–è¾‘ä¼˜åŒ–
**ç¼–è¾‘å™¨åŠŸèƒ½:**
- âœï¸ **å¯è§†åŒ–ç¼–è¾‘**: ç›´è§‚çš„ç”¨ä¾‹ç»“æ„å±•ç¤º
- ğŸ”„ **æ‹–æ‹½æ’åº**: æ”¯æŒæ­¥éª¤å’Œç»„ä»¶çš„æ‹–æ‹½è°ƒæ•´
- â• **æ·»åŠ ç»„ä»¶**: ä¸°å¯Œçš„é¢„è®¾ç»„ä»¶åº“
- ğŸ”§ **å‚æ•°é…ç½®**: è¯¦ç»†çš„ç»„ä»¶å‚æ•°è®¾ç½®
- ğŸ‘ï¸ **å®æ—¶é¢„è§ˆ**: ç¼–è¾‘ç»“æœå®æ—¶é¢„è§ˆ

#### 7. å¯¼å‡ºä¸‹è½½
**ä¸‹è½½åŠŸèƒ½:**
- ğŸ“¥ **XML æ ¼å¼**: æ ‡å‡†çš„æµ‹è¯•ç”¨ä¾‹ XML æ–‡ä»¶
- ğŸ”’ **æƒé™éªŒè¯**: ç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·å¯ä»¥ä¸‹è½½
- ğŸ—‚ï¸ **æ–‡ä»¶ç®¡ç†**: è‡ªåŠ¨æ¸…ç†è¿‡æœŸçš„ä¸´æ—¶æ–‡ä»¶

### é«˜çº§åŠŸèƒ½ä½¿ç”¨

#### 1. ç»„ä»¶ç±»å‹è¯¦è§£

**è¾“å…¥ç»„ä»¶ (Input)**
```json
{
  "type": "input",
  "name": "è¾“å…¥ç”¨æˆ·å",
  "params": {
    "selector": "#username",     // CSSé€‰æ‹©å™¨
    "value": "testuser",         // è¾“å…¥å€¼
    "clear": true,               // æ˜¯å¦å…ˆæ¸…ç©º
    "validation": "text",        // éªŒè¯ç±»å‹
    "maxLength": 100            // æœ€å¤§é•¿åº¦
  }
}
```

**æŒ‰é’®ç»„ä»¶ (Button)**
```json
{
  "type": "button", 
  "name": "ç‚¹å‡»ç™»å½•",
  "params": {
    "selector": "#login-btn",    // CSSé€‰æ‹©å™¨
    "action": "click",           // æ“ä½œç±»å‹
    "wait_after": 1000,         // æ“ä½œåç­‰å¾…æ—¶é—´(ms)
    "double_click": false       // æ˜¯å¦åŒå‡»
  }
}
```

**API ç»„ä»¶ (API)**
```json
{
  "type": "api",
  "name": "æ¥å£è°ƒç”¨ - è·å–ç”¨æˆ·ä¿¡æ¯", 
  "params": {
    "method": "GET",            // HTTPæ–¹æ³•
    "url": "/api/users/123",    // è¯·æ±‚URL
    "headers": {},              // è¯·æ±‚å¤´
    "body": {},                 // è¯·æ±‚ä½“
    "timeout": 30000           // è¶…æ—¶æ—¶é—´(ms)
  }
}
```

**æ–­è¨€ç»„ä»¶ (Assert)**
```json
{
  "type": "assert",
  "name": "æ–­è¨€ - ç™»å½•æˆåŠŸ",
  "params": {
    "type": "equals",           // æ–­è¨€ç±»å‹: equals/contains/exists/greater_than
    "expected": "/dashboard",   // æœŸæœ›å€¼
    "timeout": 5000,           // è¶…æ—¶æ—¶é—´(ms)
    "message": "ç™»å½•å¤±è´¥"       // å¤±è´¥æ¶ˆæ¯
  }
}
```

#### 2. é¢„è®¾æ­¥éª¤ä½¿ç”¨
**å¸¸ç”¨é¢„è®¾æ­¥éª¤:**
- ğŸ” **ç”¨æˆ·è®¤è¯**: ç™»å½•ã€æ³¨å†Œã€å¯†ç é‡ç½®
- ğŸ” **æœç´¢åŠŸèƒ½**: å…³é”®è¯æœç´¢ã€ç­›é€‰ã€æ’åº
- ğŸ›’ **ç”µå•†æµç¨‹**: å•†å“æµè§ˆã€è´­ç‰©è½¦ã€è®¢å•æäº¤
- ğŸ“ **è¡¨å•æ“ä½œ**: æ•°æ®å½•å…¥ã€éªŒè¯ã€æäº¤
- ğŸ”„ **çŠ¶æ€ç®¡ç†**: æ•°æ®å¢åˆ æ”¹æŸ¥æ“ä½œ

#### 3. æ‰¹é‡æ“ä½œ
**æ‰¹é‡ç¼–è¾‘:**
```javascript
// æ‰¹é‡æ·»åŠ ç›¸ä¼¼æ­¥éª¤
// 1. é€‰æ‹©æ¨¡æ¿æ­¥éª¤
// 2. ç‚¹å‡»"æ‰¹é‡å¤åˆ¶"
// 3. ä¿®æ”¹å‚æ•°å·®å¼‚
// 4. ä¸€é”®åº”ç”¨åˆ°å¤šä¸ªç”¨ä¾‹
```

**æ‰¹é‡éªŒè¯:**
```javascript
// æ‰¹é‡éªŒè¯ç”¨ä¾‹
// 1. é€‰æ‹©å¤šä¸ªæµ‹è¯•ç”¨ä¾‹
// 2. ç‚¹å‡»"æ‰¹é‡éªŒè¯"
// 3. æŸ¥çœ‹éªŒè¯ç»“æœ
// 4. ä¿®å¤å‘ç°çš„é—®é¢˜
```

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

**1. æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
```
é—®é¢˜: "æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼"
åŸå› : æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®æˆ–æ–‡ä»¶æŸå
è§£å†³: 
- ç¡®è®¤æ–‡ä»¶ä¸º XML æ ¼å¼
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å®Œæ•´
- éªŒè¯ XML è¯­æ³•æ­£ç¡®æ€§
- ç¡®è®¤æ–‡ä»¶å¤§å° < 16MB
```

**2. AI å¯¹è¯æ— å“åº”**
```
é—®é¢˜: AI å¯¹è¯é•¿æ—¶é—´æ— å“åº”
åŸå› : ç½‘ç»œé—®é¢˜æˆ– AI æœåŠ¡å¼‚å¸¸
è§£å†³:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- åˆ·æ–°é¡µé¢é‡è¯•
- ç¡®è®¤ Mock æ¨¡å¼æ˜¯å¦å¯ç”¨
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
```

**3. ç”¨ä¾‹ç”Ÿæˆå¤±è´¥**
```
é—®é¢˜: "æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå¤±è´¥"
åŸå› : è¾“å…¥ä¿¡æ¯ä¸å®Œæ•´æˆ–æ ¼å¼é”™è¯¯
è§£å†³:
- é‡æ–°ä¸Šä¼ æ–‡ä»¶
- æä¾›æ›´è¯¦ç»†çš„éœ€æ±‚æè¿°
- æ£€æŸ¥æ–‡ä»¶å†…å®¹æ ¼å¼
- å°è¯•ä½¿ç”¨ Mock æ¨¡å¼
```

**4. ä¸‹è½½æ–‡ä»¶å¼‚å¸¸**
```
é—®é¢˜: æ— æ³•ä¸‹è½½ç”Ÿæˆçš„æ–‡ä»¶
åŸå› : ä¼šè¯è¿‡æœŸæˆ–æ–‡ä»¶å·²æ¸…ç†
è§£å†³:
- æ£€æŸ¥ä¼šè¯æ˜¯å¦æœ‰æ•ˆ
- é‡æ–°ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- ç¡®è®¤æ–‡ä»¶ ID æ­£ç¡®
- è”ç³»ç®¡ç†å‘˜æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
```

#### è°ƒè¯•æ¨¡å¼

**å¯ç”¨è°ƒè¯•æ¨¡å¼:**
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export FLASK_ENV=development
export LOG_LEVEL=DEBUG

# é‡å¯åº”ç”¨
python app.py
```

**æŸ¥çœ‹è¯¦ç»†æ—¥å¿—:**
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—  
tail -f logs/error.log

# æŸ¥çœ‹è®¿é—®æ—¥å¿—
tail -f logs/access.log
```

**æµè§ˆå™¨è°ƒè¯•:**
```javascript
// æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
// æŸ¥çœ‹ Console æ ‡ç­¾é¡µçš„é”™è¯¯ä¿¡æ¯
// æŸ¥çœ‹ Network æ ‡ç­¾é¡µçš„ç½‘ç»œè¯·æ±‚
// æŸ¥çœ‹ Application æ ‡ç­¾é¡µçš„å­˜å‚¨ä¿¡æ¯
```

### æœ€ä½³å®è·µ

#### 1. æ–‡ä»¶å‡†å¤‡å»ºè®®
- âœ… **æ ‡å‡†æ ¼å¼**: ä½¿ç”¨æ ‡å‡†çš„ XML æµ‹è¯•ç”¨ä¾‹æ ¼å¼
- âœ… **å®Œæ•´ä¿¡æ¯**: ç¡®ä¿æ–‡ä»¶åŒ…å«å®Œæ•´çš„æµ‹è¯•ä¿¡æ¯
- âœ… **æ¸…æ™°å‘½å**: ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡ä»¶åå’Œæµ‹è¯•ç”¨ä¾‹å
- âœ… **ç‰ˆæœ¬ç®¡ç†**: å¯¹æµ‹è¯•æ–‡ä»¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶

#### 2. å¯¹è¯äº¤äº’æŠ€å·§
- ğŸ¯ **å…·ä½“æ˜ç¡®**: æä¾›å…·ä½“çš„åŠŸèƒ½æè¿°å’Œæµ‹è¯•åœºæ™¯
- ğŸ“‹ **åˆ†æ­¥è¯´æ˜**: æŒ‰æ­¥éª¤æè¿°å¤æ‚çš„æµ‹è¯•æµç¨‹
- ğŸ” **é‡ç‚¹çªå‡º**: æ˜ç¡®æŒ‡å‡ºå…³é”®çš„æµ‹è¯•ç‚¹å’Œé£é™©ç‚¹
- âœ… **åŠæ—¶ç¡®è®¤**: å¯¹ AI çš„ç†è§£è¿›è¡ŒåŠæ—¶ç¡®è®¤å’Œçº æ­£

#### 3. ç”¨ä¾‹ç¼–è¾‘ä¼˜åŒ–
- ğŸ—ï¸ **ç»“æ„æ¸…æ™°**: ä¿æŒæµ‹è¯•ç”¨ä¾‹ç»“æ„çš„æ¸…æ™°å’Œé€»è¾‘æ€§
- ğŸ”§ **å‚æ•°å‡†ç¡®**: ç¡®ä¿ç»„ä»¶å‚æ•°çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§
- ğŸ“ **æè¿°è¯¦ç»†**: ä¸ºæ¯ä¸ªæ­¥éª¤æ·»åŠ æ¸…æ™°çš„æè¿°ä¿¡æ¯
- ğŸ§ª **è¦†ç›–å…¨é¢**: ç¡®ä¿æµ‹è¯•åœºæ™¯çš„å…¨é¢è¦†ç›–

#### 4. è´¨é‡ä¿è¯
- âœ… **å®šæœŸéªŒè¯**: å®šæœŸéªŒè¯ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹
- ğŸ”„ **æŒç»­ä¼˜åŒ–**: æ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µæŒç»­ä¼˜åŒ–
- ğŸ“Š **æ•ˆæœè¯„ä¼°**: è¯„ä¼°æµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œæ•ˆæœ
- ğŸ”§ **åŠæ—¶æ›´æ–°**: æ ¹æ®ä¸šåŠ¡å˜åŒ–åŠæ—¶æ›´æ–°æµ‹è¯•ç”¨ä¾‹

## ğŸ¤ å¼€å‘è´¡çŒ®

### è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯ Bug æŠ¥å‘Šã€åŠŸèƒ½å»ºè®®ã€ä»£ç è´¡çŒ®è¿˜æ˜¯æ–‡æ¡£æ”¹è¿›ã€‚

#### è´¡çŒ®æµç¨‹

1. **Fork é¡¹ç›®**
   ```bash
   # åœ¨ GitHub ä¸Š Fork é¡¹ç›®åˆ°ä½ çš„è´¦æˆ·
   git clone https://github.com/your-username/ai-test-case-generator.git
   cd ai-test-case-generator
   ```

2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   # ä» main åˆ†æ”¯åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯
   git checkout -b feature/amazing-feature
   
   # æˆ–è€…ä¿®å¤ Bug
   git checkout -b fix/bug-description
   ```

3. **å¼€å‘ç¯å¢ƒè®¾ç½®**
   ```bash
   # å®‰è£…å¼€å‘ä¾èµ–
   pip install -r requirements-dev.txt
   
   # å®‰è£… pre-commit é’©å­
   pre-commit install
   
   # è¿è¡Œæµ‹è¯•ç¡®ä¿ç¯å¢ƒæ­£å¸¸
   python -m pytest tests/ -v
   ```

4. **ç¼–å†™ä»£ç **
   - éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
   - æ·»åŠ å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
   - æ›´æ–°ç›¸å…³æ–‡æ¡£

5. **ä»£ç è´¨é‡æ£€æŸ¥**
   ```bash
   # ä»£ç æ ¼å¼åŒ–
   black .
   isort .
   
   # ä»£ç æ£€æŸ¥
   flake8 .
   pylint services/ routes/ utils/
   
   # ç±»å‹æ£€æŸ¥
   mypy .
   
   # è¿è¡Œæµ‹è¯•
   python -m pytest tests/ -v --cov=.
   ```

6. **æäº¤æ›´æ”¹**
   ```bash
   # æ·»åŠ æ›´æ”¹
   git add .
   
   # æäº¤æ›´æ”¹ï¼ˆä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯ï¼‰
   git commit -m "feat: add amazing new feature"
   
   # æ¨é€åˆ°ä½ çš„ Fork
   git push origin feature/amazing-feature
   ```

7. **åˆ›å»º Pull Request**
   - åœ¨ GitHub ä¸Šåˆ›å»º Pull Request
   - å¡«å†™è¯¦ç»†çš„ PR æè¿°
   - ç­‰å¾…ä»£ç å®¡æŸ¥å’Œåé¦ˆ

### ä»£ç è§„èŒƒ

#### Python ä»£ç è§„èŒƒ
```python
# ä½¿ç”¨ Black æ ¼å¼åŒ–ä»£ç 
# è¡Œé•¿åº¦é™åˆ¶ä¸º 88 å­—ç¬¦
# ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ç¼©è¿›

# å¯¼å…¥é¡ºåº
import os
import sys
from typing import Dict, List, Optional

import requests
from flask import Flask

from services.ai_service import AIService
```

#### å‘½åè§„èŒƒ
```python
# å˜é‡å’Œå‡½æ•°ï¼šsnake_case
user_name = "test"
def get_user_info():
    pass

# ç±»åï¼šPascalCase  
class AIService:
    pass

# å¸¸é‡ï¼šUPPER_SNAKE_CASE
MAX_FILE_SIZE = 16 * 1024 * 1024
```

#### æ–‡æ¡£å­—ç¬¦ä¸²
```python
def generate_test_cases(session_id: str, context: Dict[str, Any]) -> List[Dict]:
    """
    ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
    
    Args:
        session_id: ä¼šè¯ID
        context: ç”Ÿæˆä¸Šä¸‹æ–‡
        
    Returns:
        List[Dict]: ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
        
    Raises:
        ValueError: å½“ä¼šè¯IDæ— æ•ˆæ—¶
        AIServiceError: å½“AIæœåŠ¡å¼‚å¸¸æ—¶
    """
    pass
```

### æµ‹è¯•è§„èŒƒ

#### æµ‹è¯•æ–‡ä»¶ç»“æ„
```
tests/
â”œâ”€â”€ conftest.py              # pytest é…ç½®å’Œ fixtures
â”œâ”€â”€ test_services/           # æœåŠ¡å±‚æµ‹è¯•
â”‚   â”œâ”€â”€ test_ai_service.py
â”‚   â”œâ”€â”€ test_file_service.py
â”‚   â””â”€â”€ test_session_service.py
â”œâ”€â”€ test_routes/             # è·¯ç”±å±‚æµ‹è¯•
â”‚   â”œâ”€â”€ test_generation.py
â”‚   â””â”€â”€ test_chat.py
â””â”€â”€ fixtures/                # æµ‹è¯•æ•°æ®
    â”œâ”€â”€ sample_template.xml
    â””â”€â”€ sample_config.json
```

#### æµ‹è¯•ç”¨ä¾‹ç¼–å†™
```python
import pytest
from unittest.mock import Mock, patch

class TestAIService:
    """AIæœåŠ¡æµ‹è¯•ç±»"""
    
    def test_analyze_files_success(self, ai_service, sample_files):
        """æµ‹è¯•æ–‡ä»¶åˆ†ææˆåŠŸåœºæ™¯"""
        # Arrange
        expected_result = {"template_info": "test"}
        
        # Act
        result = ai_service.analyze_files(sample_files)
        
        # Assert
        assert result["success"] is True
        assert "template_info" in result
    
    @pytest.mark.parametrize("file_type,expected", [
        ("xml", True),
        ("txt", False),
        ("json", False)
    ])
    def test_file_validation(self, ai_service, file_type, expected):
        """æµ‹è¯•æ–‡ä»¶æ ¼å¼éªŒè¯"""
        result = ai_service.validate_file_type(file_type)
        assert result == expected
```

#### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- æ–°åŠŸèƒ½ä»£ç è¦†ç›–ç‡ â‰¥ 90%
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘è¦†ç›–ç‡ = 100%
- åŒ…å«å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€è¾¹ç•Œæµ‹è¯•

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```bash
# åŠŸèƒ½æ·»åŠ 
git commit -m "feat: add user authentication system"

# Bug ä¿®å¤
git commit -m "fix: resolve file upload timeout issue"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: update API documentation"

# ä»£ç é‡æ„
git commit -m "refactor: optimize database query performance"

# æµ‹è¯•æ·»åŠ 
git commit -m "test: add unit tests for chat service"

# æ„å»ºç›¸å…³
git commit -m "build: update dependencies to latest versions"
```

### Issue å’Œ PR æ¨¡æ¿

#### Bug æŠ¥å‘Šæ¨¡æ¿
```markdown
## Bug æè¿°
ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜

## å¤ç°æ­¥éª¤
1. æ‰“å¼€åº”ç”¨
2. ä¸Šä¼ æ–‡ä»¶
3. ç‚¹å‡»ç”ŸæˆæŒ‰é’®
4. çœ‹åˆ°é”™è¯¯ä¿¡æ¯

## æœŸæœ›è¡Œä¸º
æè¿°ä½ æœŸæœ›å‘ç”Ÿçš„æƒ…å†µ

## å®é™…è¡Œä¸º
æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µ

## ç¯å¢ƒä¿¡æ¯
- OS: [e.g. Windows 10, macOS 12.0, Ubuntu 20.04]
- Python: [e.g. 3.9.7]
- Browser: [e.g. Chrome 96.0, Firefox 94.0]

## é™„åŠ ä¿¡æ¯
æ·»åŠ ä»»ä½•å…¶ä»–æœ‰åŠ©äºè§£å†³é—®é¢˜çš„ä¿¡æ¯
```

#### åŠŸèƒ½è¯·æ±‚æ¨¡æ¿
```markdown
## åŠŸèƒ½æè¿°
ç®€è¦æè¿°ä½ å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½

## ä½¿ç”¨åœºæ™¯
æè¿°è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯å’Œä»·å€¼

## è¯¦ç»†è®¾è®¡
å¦‚æœæœ‰å…·ä½“çš„è®¾è®¡æƒ³æ³•ï¼Œè¯·è¯¦ç»†æè¿°

## æ›¿ä»£æ–¹æ¡ˆ
æ˜¯å¦è€ƒè™‘è¿‡å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Ÿ

## é™„åŠ ä¿¡æ¯
æ·»åŠ ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯
```

### å¼€å‘ç¯å¢ƒé…ç½®

#### æ¨èçš„å¼€å‘å·¥å…·
```bash
# ä»£ç ç¼–è¾‘å™¨
- VS Code (æ¨è)
- PyCharm
- Vim/Neovim

# VS Code æ‰©å±•æ¨è
- Python
- Pylance  
- Black Formatter
- isort
- GitLens
- REST Client
```

#### å¼€å‘é…ç½®æ–‡ä»¶
```json
// .vscode/settings.json
{
    "python.formatting.provider": "black",
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": true,
    "python.linting.flake8Enabled": true,
    "editor.formatOnSave": true,
    "python.sortImports.args": ["--profile", "black"]
}
```

### å‘å¸ƒæµç¨‹

#### ç‰ˆæœ¬å·è§„èŒƒ
ä½¿ç”¨ [Semantic Versioning](https://semver.org/)ï¼š
- `MAJOR.MINOR.PATCH` (ä¾‹å¦‚: 1.2.3)
- MAJOR: ä¸å…¼å®¹çš„ API å˜æ›´
- MINOR: å‘åå…¼å®¹çš„åŠŸèƒ½æ·»åŠ 
- PATCH: å‘åå…¼å®¹çš„ Bug ä¿®å¤

#### å‘å¸ƒæ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç è¦†ç›–ç‡è¾¾æ ‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] CHANGELOG å·²æ›´æ–°
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] å®‰å…¨æ‰«æé€šè¿‡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

### MIT è®¸å¯è¯æ‘˜è¦
- âœ… å•†ä¸šä½¿ç”¨
- âœ… ä¿®æ”¹
- âœ… åˆ†å‘
- âœ… ç§äººä½¿ç”¨
- âŒ è´£ä»»
- âŒ ä¿è¯

## ğŸ“ è”ç³»æ–¹å¼

### é¡¹ç›®ç»´æŠ¤è€…
- **é¡¹ç›®è´Ÿè´£äºº**: [Your Name](mailto:your.email@example.com)
- **æŠ€æœ¯æ”¯æŒ**: [Support Team](mailto:support@example.com)

### ç¤¾åŒºæ”¯æŒ
- **GitHub Issues**: [é¡¹ç›®é—®é¢˜è¿½è¸ª](https://github.com/your-org/ai-test-case-generator/issues)
- **è®¨è®ºåŒº**: [GitHub Discussions](https://github.com/your-org/ai-test-case-generator/discussions)
- **æ–‡æ¡£ç«™ç‚¹**: [åœ¨çº¿æ–‡æ¡£](https://your-docs-site.com)

### å•†ä¸šæ”¯æŒ
å¦‚éœ€å•†ä¸šæ”¯æŒã€å®šåˆ¶å¼€å‘æˆ–ä¼ä¸šçº§æœåŠ¡ï¼Œè¯·è”ç³»ï¼š
- **å•†åŠ¡é‚®ç®±**: business@example.com
- **æŠ€æœ¯å’¨è¯¢**: consulting@example.com

## ğŸ™ è‡´è°¢

### å¼€æºé¡¹ç›®
æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [Flask](https://flask.palletsprojects.com/) - Web æ¡†æ¶
- [Redis](https://redis.io/) - å†…å­˜æ•°æ®åº“
- [pytest](https://pytest.org/) - æµ‹è¯•æ¡†æ¶
- [Hypothesis](https://hypothesis.readthedocs.io/) - å±æ€§æµ‹è¯•åº“

### è´¡çŒ®è€…
æ„Ÿè°¢æ‰€æœ‰ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼š
- [Contributor 1](https://github.com/contributor1)
- [Contributor 2](https://github.com/contributor2)
- [æŸ¥çœ‹å®Œæ•´è´¡çŒ®è€…åˆ—è¡¨](https://github.com/your-org/ai-test-case-generator/contributors)

### ç‰¹åˆ«æ„Ÿè°¢
- **Dify å›¢é˜Ÿ** - æä¾›ä¼˜ç§€çš„ AI Agent å¹³å°
- **æµ‹è¯•å›¢é˜Ÿ** - æä¾›è¯¦ç»†çš„æµ‹è¯•åé¦ˆ
- **ç”¨æˆ·ç¤¾åŒº** - æä¾›å®è´µçš„ä½¿ç”¨å»ºè®®

---

## ğŸ“ˆ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-09)
ğŸ‰ **é¦–ä¸ªæ­£å¼ç‰ˆæœ¬å‘å¸ƒ**

#### âœ¨ æ–°åŠŸèƒ½
- âœ… å®Œæ•´çš„ AI è¾…åŠ©æµ‹è¯•ç”¨ä¾‹ç”ŸæˆåŠŸèƒ½
- âœ… æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ä¸Šä¼ å’Œè§£æ
- âœ… å¯è§†åŒ–æµ‹è¯•ç”¨ä¾‹ç¼–è¾‘å™¨
- âœ… æµå¼ AI å¯¹è¯äº¤äº’
- âœ… Mock æ¨¡å¼æ”¯æŒï¼Œæ— éœ€å¤–éƒ¨ä¾èµ–
- âœ… å®Œæ•´çš„ API æ¥å£å’Œæ–‡æ¡£

#### ğŸ”§ æŠ€æœ¯ç‰¹æ€§
- âœ… Flask 2.3+ åç«¯æ¶æ„
- âœ… Redis ä¼šè¯ç®¡ç†ï¼ˆå¯é€‰ï¼‰
- âœ… 135+ æµ‹è¯•ç”¨ä¾‹ï¼Œ100% é€šè¿‡
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ
- âœ… Docker å®¹å™¨åŒ–æ”¯æŒ
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

#### ğŸ“š æ–‡æ¡£å®Œå–„
- âœ… è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’Œ API æ–‡æ¡£
- âœ… å®Œæ•´çš„éƒ¨ç½²å’Œé…ç½®è¯´æ˜
- âœ… å¼€å‘è´¡çŒ®æŒ‡å—
- âœ… æ•…éšœæ’é™¤å’Œæœ€ä½³å®è·µ

#### ğŸ›¡ï¸ å®‰å…¨æ€§
- âœ… æ–‡ä»¶ä¸Šä¼ å®‰å…¨éªŒè¯
- âœ… ä¼šè¯ç®¡ç†å’Œæƒé™æ§åˆ¶
- âœ… è¾“å…¥æ•°æ®éªŒè¯å’Œæ¸…ç†
- âœ… é”™è¯¯ä¿¡æ¯å®‰å…¨å¤„ç†

---

**ğŸš€ ç«‹å³å¼€å§‹ä½¿ç”¨ AI è¾…åŠ©æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå·¥å…·ï¼Œæå‡ä½ çš„æµ‹è¯•æ•ˆç‡ï¼**